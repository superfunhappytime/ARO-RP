(this["webpackJsonparo-rp"]=this["webpackJsonparo-rp"]||[]).push([[0],{178:function(e,t,n){"use strict";n.r(t);var r=n(63),s=n.n(r),a=n(10),i=n(0),o=n(4),c=n(266),l=n(258),d=n(8),u=n(255),j=n(259),b=n(20),h=n(251),p=n(262),m=n(250),O=n(122),f=n(221),x=n(26),g=n.n(x),v=n(45),C=n(222),y=n(247),S=n(253),k=n(254),w=n(256),A=n(46),N=n.n(A),L=n(2),R={iconName:"Cancel"},I={iconName:"Copy"},T=[{key:1,text:"master-1"},{key:2,text:"master-2"},{key:3,text:"master-3"}],D=Object(o.C)(),P=Object(o.F)({container:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch"},header:[{flex:"1 1 auto",borderTop:"4px solid ".concat(D.palette.themePrimary),color:D.palette.neutralPrimary,display:"flex",alignItems:"center",fontSize:o.e.xLargePlus,fontWeight:o.f.semibold,padding:"12px 12px 14px 24px"}],body:{flex:"4 4 auto",padding:"0 24px 24px 24px",overflowY:"hidden",selectors:{p:{margin:"14px 0"},"p:first-child":{marginTop:0},"p:last-child":{marginBottom:0}}}}),B={root:{color:D.palette.neutralPrimary,marginLeft:"auto",marginTop:"4px",marginRight:"2px"},rootHovered:{color:D.palette.neutralDark}},H=Object(i.forwardRef)((function(e,t){var n=e.csrfToken,r=Object(f.a)(!1),s=Object(a.a)(r,2),o=s[0],j=s[1],b=j.setTrue,h=j.setFalse,p=Object(C.a)("title"),m=Object(f.a)(!1),O=Object(a.a)(m,2),x=O[0],A=O[1],D=A.setTrue,H=A.setFalse,z=Object(i.useState)(""),E=Object(a.a)(z,2),M=E[0],_=E[1],F=Object(i.useState)(),G=Object(a.a)(F,2),W=G[0],Z=G[1],U=Object(f.a)(!1),V=Object(a.a)(U,2),K=V[0],q=V[1],J=q.setTrue,X=q.setFalse,Y=Object(i.useState)(),Q=Object(a.a)(Y,2),$=Q[0],ee=Q[1],te=Object(i.useState)(null),ne=Object(a.a)(te,2),re=ne[0],se=ne[1];Object(i.useImperativeHandle)(t,(function(){return{LoadSSH:function(e){X(),ee(null),se(null),b(),_(e)}}})),Object(i.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,se(null),e.next=4,N()({method:"post",url:M+"/ssh/new",data:{master:null===W||void 0===W?void 0:W.key},headers:{"X-CSRF-Token":n.current}});case 4:t=e.sent,ee(t.data),J(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),J(),se(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}x&&W&&(H(),function(){e.apply(this,arguments)}())}),[M,W,n,x,H,J]);var ae=function(e,t){Z(t),J()};return Object(L.jsx)("div",{children:Object(L.jsxs)(k.a,{titleAriaId:p,isOpen:o,onDismiss:h,isModeless:!0,containerClassName:P.container,children:[Object(L.jsxs)("div",{className:P.header,children:[Object(L.jsx)("span",{id:p,children:"SSH Access"}),Object(L.jsx)(c.a,{styles:B,iconProps:R,ariaLabel:"Close popup modal",onClick:h})]}),Object(L.jsxs)("div",{className:P.body,children:[Object(L.jsxs)("p",{children:["Before requesting SSH access, please ensure you have read the"," ",Object(L.jsx)("a",{href:"https://msazure.visualstudio.com/AzureRedHatOpenShift/_wiki/wikis/ARO.wiki/136823/ARO-SRE-portal?anchor=ssh-(elevated)",children:"SSH docs"}),"."]}),re&&Object(L.jsx)(l.a,{messageBarType:d.a.error,isMultiline:!1,onDismiss:function(){return se(null)},dismissButtonAriaLabel:"Close",children:null===re||void 0===re?void 0:re.statusText}),$?Object(L.jsx)("div",{children:Object(L.jsxs)(u.a,{children:[Object(L.jsxs)(u.a,{horizontal:!0,verticalAlign:"end",children:[Object(L.jsx)(u.a.Item,{grow:!0,children:Object(L.jsx)(S.a,{label:"Command",value:null===$||void 0===$?void 0:$.command,readOnly:!0})}),Object(L.jsx)(u.a.Item,{children:Object(L.jsx)(c.a,{iconProps:I,ariaLabel:"Copy command",onClick:function(e){$&&navigator.clipboard.writeText($.command)}})})]}),Object(L.jsxs)(u.a,{horizontal:!0,verticalAlign:"end",children:[Object(L.jsxs)(u.a.Item,{grow:!0,children:[Object(L.jsx)(S.a,{label:"Password",value:null===$||void 0===$?void 0:$.password,type:"password",canRevealPassword:!0,readOnly:!0})," "]}),Object(L.jsx)(u.a.Item,{children:Object(L.jsx)(c.a,{iconProps:I,ariaLabel:"Copy password",onClick:function(e){$&&navigator.clipboard.writeText($.password)}})})]})]})}):Object(L.jsxs)(u.a,{tokens:{childrenGap:15},children:[Object(L.jsx)(y.a,{label:"Machine Selection",onChange:ae,options:T}),Object(L.jsx)(w.a,{onClick:D,text:"Request",disabled:!K})]})]})]})})})),z=n(264),E=function(e){return 403===e.status?(document.location.href="/api/login",null):e},M=function(){var e=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N()("/api/clusters");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),n=e.t0.response,e.abrupt("return",E(n));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(v.a)(g.a.mark((function e(t,n,r){var s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N()("/api/"+t+"/"+n+"/"+r+"/clusterinfo");case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e.catch(0),a=e.t0.response,e.abrupt("return",E(a));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N()("/api/info");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),n=e.t0.response,e.abrupt("return",E(n));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N()({method:"POST",url:"/api/logout"});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response,console.log(n);case 11:document.location.href="/api/login";case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(v.a)(g.a.mark((function e(t,n){var r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N()({method:"POST",url:n+"/kubeconfig/new",headers:{"X-CSRF-Token":t}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),s=e.t0.response,e.abrupt("return",E(s));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Z=n(263),U=n(68),V=n(69),K=n(74),q=n(70),J=n(28),X=n(246),Y={apiServerVisibility:"ApiServer Visibility",apiServerURL:"ApiServer URL",architectureVersion:"Architecture Version",consoleLink:"Console Link",createdAt:"Created At",createdBy:"Created By",failedProvisioningState:"Failed Provisioning State",infraId:"Infra Id",lastAdminUpdateError:"Last Admin Update Error",lastModifiedAt:"Last Modified At",lastModifiedBy:"Last Modified By",lastProvisioningState:"Last Provisioning State",location:"Location",name:"Name",provisioningState:"Provisioning State",resourceId:"Resource Id",version:"Version",installStatus:"Installation Status"},Q={root:{margin:"11px 0"}},$={root:{margin:"15px 0"}},ee=[{type:J.a.line,height:32,width:"25%"}],te=[{type:J.a.line,height:18,width:"75%"}],ne={root:{paddingTop:10,paddingRight:15}},re={root:{paddingTop:10}},se={root:{fontStyle:"bold",alignSelf:"flex-start",fontVariantAlternates:"bold",color:"grey",paddingBottom:10}},ae={root:{paddingBottom:10}};function ie(e){if("string"==typeof e.value)return Object(L.jsx)(u.a.Item,{styles:e.style,children:Object(L.jsx)(p.a,{styles:e.style,variant:"medium",children:e.value})})}var oe=function(e){Object(K.a)(n,e);var t=Object(q.a)(n);function n(e){return Object(U.a)(this,n),t.call(this,e)}return Object(V.a)(n,[{key:"render",value:function(){var e=this,t=Object.entries(Y);switch(this.props.detailPanelVisible){case"Overview":var n=[];return 0!=this.props.item.length?(t.filter((function(t){null!=e.props.item[t[0]]&&e.props.item[t[0]].toString().length>0&&n.push(t)})),Object(L.jsxs)(u.a,{styles:De,children:[Object(L.jsx)(p.a,{variant:"xxLarge",children:this.props.clusterName}),Object(L.jsxs)(u.a,{horizontal:!0,children:[Object(L.jsx)(u.a,{styles:ne,children:n.map((function(e,t){return Object(L.jsx)(ie,{style:se,value:e[1]},t)}))}),Object(L.jsx)(u.a,{styles:ne,children:Array(n.length).fill(":").map((function(e,t){return Object(L.jsx)(ie,{style:se,value:e},t)}))}),Object(L.jsx)(u.a,{styles:re,children:n.map((function(t,n){return Object(L.jsx)(ie,{style:ae,value:e.props.item[t[0]]},n)}))})]})]})):Object(L.jsxs)(u.a,{children:[Object(L.jsx)(X.a,{styles:$,shimmerElements:ee,width:"25%"}),t.map((function(){return Object(L.jsx)(X.a,{styles:Q,shimmerElements:te,width:"75%"})}))]});case"Nodes":return Object(L.jsxs)(u.a,{styles:De,children:[Object(L.jsx)(p.a,{variant:"xxLarge",children:this.props.clusterName}),Object(L.jsxs)(u.a,{horizontal:!0,children:[Object(L.jsx)(u.a,{styles:ne,children:"Node detail"}),Object(L.jsx)(u.a,{styles:ne,children:"Node detail2"}),Object(L.jsx)(u.a,{styles:re,children:"Node detail3"})]})]})}}}]),n}(i.Component),ce=n(17),le={root:{width:155,paddingRight:"10px"},link:{whiteSpace:"normal",lineHeight:"inherit"},groupContent:{marginBottom:"0px"}},de={root:{top:"40px",left:"225px"},content:{paddingLeft:5,paddingRight:5}},ue={root:{marginBottom:15}};function je(e){var t=Object(i.useState)([]),n=Object(a.a)(t,2),r=n[0],s=n[1],o=Object(i.useState)(null),c=Object(a.a)(o,2),h=c[0],p=c[1],m=Object(i.useRef)(null),O=Object(i.useState)(""),x=Object(a.a)(O,2),g=x[0],v=x[1],C=Object(i.useState)(""),y=Object(a.a)(C,2),S=y[0],k=(y[1],Object(f.a)(!1)),w=Object(a.a)(k,2),A=w[0],N=w[1],R=N.setTrue,I=N.setFalse,T=Object(i.useState)(!1),D=Object(a.a)(T,2),P=D[0],B=D[1],H=Object(i.useState)("Overview"),E=Object(a.a)(H,2),M=E[0],F=E[1];Object(i.useEffect)((function(){""===g&&"DONE"===e.loaded&&""!=e.currentCluster.clusterName&&(v("FETCHING"),_(e.currentCluster.subscription,e.currentCluster.resource,e.currentCluster.clusterName).then((function(t){var n;200===(null===t||void 0===t?void 0:t.status)?(n=t.data,s(n),m&&m.current&&m.current.setState({item:n}),B(!0)):p(t),v(e.currentCluster.clusterName)})))}),[r,g,v]),Object(i.useEffect)((function(){""!=e.currentCluster.clusterName&&(e.currentCluster.clusterName==g?(R(),B(!0)):(s([]),v(""),B(!1),R()))}),[e.currentCluster.clusterName]);var G=[{links:[{name:"Overview",key:"overview",url:"#"+Object(ce.d)().location.pathname+"/overview",icon:"ThisPC"}]}];return Object(L.jsx)(j.a,{isOpen:A,type:b.a.custom,onDismiss:function(){I(),e.currentCluster.clusterName="",e.onClose(),B(!1)},isBlocking:!1,styles:de,closeButtonAriaLabel:"Close",headerText:S,children:Object(L.jsxs)(u.a,{styles:De,children:[Object(L.jsx)(u.a.Item,{grow:!0,children:h&&Object(L.jsx)(l.a,{messageBarType:d.a.error,isMultiline:!1,onDismiss:function(){return p(null)},dismissButtonAriaLabel:"Close",styles:ue,children:null===h||void 0===h?void 0:h.statusText})}),Object(L.jsxs)(u.a,{horizontal:!0,children:[Object(L.jsx)(u.a.Item,{children:Object(L.jsx)(Z.a,{onLinkClick:function(e,t){t&&""!==t.name&&F(t.name)},ariaLabel:"Select a tab to view",styles:le,groups:G,initialSelectedKey:"overview"})}),Object(L.jsx)(z.a,{vertical:!0}),Object(L.jsx)(u.a.Item,{grow:!0,children:Object(L.jsx)(oe,{item:r,clusterName:e.currentCluster.clusterName,isDataLoaded:P,detailPanelVisible:M})})]})]})})}var be=n(257),he=n(248),pe=n(245),me=n(36),Oe=n(11),fe=n(120),xe=Object(i.forwardRef)((function(e,t){var n=e.csrfToken,r=e.clusterID,s=Object(i.useState)({name:"",content:""}),o=Object(a.a)(s,2),l=o[0],d=o[1],u=Object(i.useState)(null),j=Object(a.a)(u,2),b=j[0],h=j[1],p=Object(i.useState)("DONE"),O=Object(a.a)(p,2),f=O[0],x=O[1],g=Object(i.useRef)(null);return Object(i.useEffect)((function(){""===f&&(x("FETCHING"),W(n.current,r).then((function(e){if(200===(null===e||void 0===e?void 0:e.status)){var t=new Blob([e.request.response]),n=URL.createObjectURL(t),r=Object(fe.parse)(e.headers["content-disposition"]).parameters.filename;d({content:n,name:r})}else h(e);x("DONE")})))}),[f,b,l,r,n]),Object(i.useLayoutEffect)((function(){l.content&&g&&g.current&&(g.current.href=l.content,g.current.download=l.name,g.current.click(),URL.revokeObjectURL(l.content),l.content="")}),[l]),Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(m.a,{content:"Download Kubeconfig",children:[Object(L.jsx)(c.a,{iconProps:{iconName:"HardDriveGroup"},disabled:"FETCHING"===f,"aria-label":"Download Kubeconfig",onClick:function(e){return x("")}}),Object(L.jsx)("a",{style:{display:"none"},ref:g,href:"#",children:"dl"})]})})}));Object(o.J)({icons:{"openshift-svg":Object(L.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 64 64",children:[Object(L.jsxs)("g",{fill:"#0078d4",children:[Object(L.jsx)("path",{d:"M17.424 27.158L7.8 30.664c.123 1.545.4 3.07.764 4.566l9.15-3.333c-.297-1.547-.403-3.142-.28-4.74M60 16.504c-.672-1.386-1.45-2.726-2.35-3.988l-9.632 3.506c1.12 1.147 2.06 2.435 2.83 3.813z"}),Object(L.jsx)("path",{d:"M38.802 13.776c2.004.935 3.74 2.21 5.204 3.707l9.633-3.506a27.38 27.38 0 0 0-10.756-8.95c-13.77-6.42-30.198-.442-36.62 13.326a27.38 27.38 0 0 0-2.488 13.771l9.634-3.505c.16-2.087.67-4.18 1.603-6.184 4.173-8.947 14.844-12.83 23.79-8.658"})]}),Object(L.jsx)("path",{d:"M9.153 35.01L0 38.342c.84 3.337 2.3 6.508 4.304 9.33l9.612-3.5a17.99 17.99 0 0 1-4.763-9.164",fill:"#0078d4"}),Object(L.jsx)("path",{d:"M49.074 31.38a17.64 17.64 0 0 1-1.616 6.186c-4.173 8.947-14.843 12.83-23.79 8.657a17.71 17.71 0 0 1-5.215-3.7l-9.612 3.5c2.662 3.744 6.293 6.874 10.748 8.953 13.77 6.42 30.196.44 36.618-13.328a27.28 27.28 0 0 0 2.479-13.765l-9.61 3.498z",fill:"#0078d4"}),Object(L.jsx)("path",{d:"M51.445 19.618l-9.153 3.332c1.7 3.046 2.503 6.553 2.24 10.08l9.612-3.497c-.275-3.45-1.195-6.817-2.7-9.915",fill:"#0078d4"})]})}});var ge={root:{marginBottom:15}},ve=Object(o.F)({controlWrapper:{display:"flex",flexWrap:"wrap"},fullWidth:{width:"100%"},fileIconImg:{verticalAlign:"middle",maxHeight:"20px",maxWidth:"20px"},headerIcon:{height:18,paddingTop:1},iconContainer:{margin:"-11px 0px",height:42},controlButtonContainer:{paddingLeft:0},titleText:{fontWeight:600,fontSize:24,lineHeight:32},subtitleText:{color:"#646464",fontSize:12,lineHeight:14,margin:0},itemsCount:{padding:"10px 0px"}}),Ce={root:{paddingLeft:0}},ye={root:{fontSize:0,marginBottom:20,padding:0}},Se={headerWrapper:{marginTop:"-16px"}},ke={root:{overflow:"hidden"},headerWrapper:{marginTop:"-16px"}},we=function(e){Object(K.a)(n,e);var t=Object(q.a)(n);function n(e){var r;Object(U.a)(this,n),(r=t.call(this,e))._sshModal=void 0,r._setCurrentCluster=void 0,r._onChangeText=function(e,t){r.setState({items:t?r.props.items.filter((function(e){return e.name.toLowerCase().indexOf(t)>-1})):r.props.items})},r._onColumnClick=function(e,t){var n=r.state,s=n.columns,a=n.items,i=s.slice(),o=i.filter((function(e){return t.key===e.key}))[0];i.forEach((function(e){e===o?(o.isSortedDescending=!o.isSortedDescending,o.isSorted=!0):(e.isSorted=!1,e.isSortedDescending=!0)})),r.setState({columns:i,items:a})},r._sshModal=e.sshModalRef,r._setCurrentCluster=e.setCurrentCluster;var s=[{key:"icon",name:"",fieldName:"",minWidth:24,isRowHeader:!1,data:"string",isPadded:!1,maxWidth:24,onRender:function(){return Object(L.jsx)(u.a,{horizontal:!0,verticalAlign:"center",className:ve.iconContainer,children:Object(L.jsx)("img",{src:"/favicon.ico",className:ve.headerIcon,alt:""})})}},{key:"name",name:"Name",fieldName:"name",minWidth:100,flexGrow:10,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",onRender:function(e){return Object(L.jsx)(be.a,{onClick:function(t){return r._onClusterInfoLinkClick(e)},href:"#"+e.id+"/overview",children:e.name})},isPadded:!0},{key:"subscription",name:"Subscription",fieldName:"subscription",minWidth:100,flexGrow:10,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"version",name:"Version",fieldName:"version",minWidth:100,flexGrow:5,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"latestModified",name:"Last Modified",fieldName:"lastModified",minWidth:100,flexGrow:5,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"createdDate",name:"Creation Date",fieldName:"createdDate",minWidth:100,flexGrow:5,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"provisionedBy",name:"Provisioned By",fieldName:"provisionedBy",minWidth:100,flexGrow:5,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"state",name:"State",fieldName:"state",minWidth:100,flexGrow:5,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,onRender:function(e){return Object(L.jsxs)(p.a,{children:[e.state,e.failed&&" - "+e.failed]})},data:"string",isPadded:!0},{key:"icons",name:"Actions",fieldName:"icons",minWidth:92,flexGrow:5,isRowHeader:!1,data:"string",isPadded:!0,onRender:function(t){return Object(L.jsxs)(u.a,{horizontal:!0,verticalAlign:"center",className:ve.iconContainer,children:[Object(L.jsx)(m.a,{content:"Prometheus",children:Object(L.jsx)(c.a,{iconProps:{iconName:"BIDashboard"},"aria-label":"Prometheus",href:t.id+"/prometheus"})}),Object(L.jsx)(m.a,{content:"SSH",children:Object(L.jsx)(c.a,{iconProps:{iconName:"CommandPrompt"},"aria-label":"SSH",onClick:function(e){return r._onSSHClick(t)}})}),Object(L.jsx)(xe,{clusterID:t.id,csrfToken:e.csrfToken})]})}}];return r.state={items:r.props.items,columns:s,modalOpen:!1},r}return Object(V.a)(n,[{key:"render",value:function(){var e=this.state,t=e.columns,n=e.items,r=Se;return this.props.showColumns||(t=[t[0],t[1]],r=ke),Object(L.jsxs)(u.a,{children:[Object(L.jsx)("div",{className:ve.controlWrapper,children:Object(L.jsx)(S.a,{placeholder:"Filter on any field",onChange:this._onChangeText})}),Object(L.jsxs)(p.a,{className:ve.itemsCount,children:["Showing ",n.length," items"]}),Object(L.jsx)(pe.a,{items:n,columns:t,selectionMode:me.b.none,getKey:this._getKey,setKey:"none",layoutMode:Oe.e.fixedColumns,isHeaderVisible:!0,onItemInvoked:this._onItemInvoked,styles:r})]})}},{key:"_getKey",value:function(e,t){return e.key}},{key:"_onSSHClick",value:function(e){var t=this._sshModal;t&&t.current&&t.current.LoadSSH(e.id)}},{key:"_onClusterInfoLinkClick",value:function(e){var t={clusterName:e.name,subscription:e.subscription,resource:e.resourceGroup,resourceId:e.id};this._setCurrentCluster(t)}},{key:"_onItemInvoked",value:function(e){alert("Item invoked: ".concat(e.name))}}]),n}(i.Component);function Ae(e){var t=Object(i.useState)([]),n=Object(a.a)(t,2),r=n[0],s=n[1],o=Object(i.useState)(null),c=Object(a.a)(o,2),j=c[0],b=c[1],h=Object(i.useRef)(null),p=Object(i.useState)(""),m=Object(a.a)(p,2),O=m[0],f=m[1],x=function(e){s(e),h&&h.current&&h.current.setState({items:e})};Object(i.useEffect)((function(){""===O&&"DONE"===e.loaded&&(f("FETCHING"),M().then((function(e){200===(null===e||void 0===e?void 0:e.status)?x(e.data):b(e),f("DONE")})))}),[r,O,f,e.loaded]);var g=[{key:"refresh",text:"Refresh",iconProps:{iconName:"Refresh"},onClick:function(){x([]),f("")}}];return Object(L.jsxs)(u.a,{children:[Object(L.jsx)("span",{className:ve.titleText,children:"Clusters"}),Object(L.jsx)("span",{className:ve.subtitleText,children:"Azure Red Hat OpenShift"}),Object(L.jsx)(he.a,{items:g,ariaLabel:"Use left and right arrow keys to navigate between commands",className:ve.controlButtonContainer,styles:Ce}),Object(L.jsx)(z.a,{styles:ye}),j&&Object(L.jsx)(l.a,{messageBarType:d.a.error,isMultiline:!1,onDismiss:function(){return b(null)},dismissButtonAriaLabel:"Close",styles:ge,children:null===j||void 0===j?void 0:j.statusText}),Object(L.jsx)(we,{items:r,ref:h,sshModalRef:e.sshBox,setCurrentCluster:e.setCurrentCluster,csrfToken:e.csrfToken,showColumns:e.showColumns})]})}var Ne={},Le={childrenGap:10},Re={root:{marginBottom:15}},Ie={root:[{width:"100%",padding:0}]},Te={root:{fontWeight:600}},De={root:[{padding:20}]},Pe={root:[{padding:20,width:"215px"}]},Be={root:{padding:"0px 15px",height:40}},He={icon:{color:o.d.white}},ze={semanticColors:{bodyBackground:o.d.themePrimary,bodyText:o.d.white}},Ee={navigation:{height:40,lineHeight:40,fontSize:15,paddingLeft:15,justifyContent:"start",alignItems:"center"}},Me=/^\/subscriptions\/(.*)\/resourceGroups\/(.*)\/providers\/Microsoft\.RedHatOpenShift\/openShiftClusters\/(.*)\/(\w+)/;var _e=Object(ce.e)((function(){var e=Object(i.useState)({location:"",csrf:"",elevated:!1,username:""}),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(i.useState)(null),o=Object(a.a)(s,2),x=o[0],g=o[1],v=Object(f.a)(!1),C=Object(a.a)(v,2),y=C[0],S=C[1],k=S.setTrue,w=S.setFalse,A=Object(i.useState)(""),N=Object(a.a)(A,2),R=N[0],I=N[1],T=Object(i.useState)({subscription:"",resource:"",clusterName:"",resourceId:""}),D=Object(a.a)(T,2),P=D[0],B=D[1],z=Object(i.useState)(De),E=Object(a.a)(z,2),M=E[0],_=E[1],W=Object(i.useState)(!0),Z=Object(a.a)(W,2),U=Z[0],V=Z[1],K=Object(i.useRef)(null),q=Object(i.useRef)(""),J=Object(ce.d)();Object(i.useEffect)((function(){""===R&&(I("FETCHING"),F().then((function(e){200===(null===e||void 0===e?void 0:e.status)?(r(e.data),q.current=e.data.csrf):g(e),I("DONE")})))}),[R,x,n]),Object(i.useEffect)((function(){var e=function(e){return console.log(e),Me.exec(e)}(J.location.pathname);console.log(e)}),[]);var X=Object(i.useCallback)((function(e,t){return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(c.a,{iconProps:{iconName:"GlobalNavButton"},onClick:w})})}),[w]);return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(u.a,{styles:Ie,tokens:Ne,horizontalAlign:"stretch",children:[Object(L.jsx)(j.a,{isLightDismiss:!0,styles:Ee,type:b.a.smallFixedNear,isOpen:y,onDismiss:w,closeButtonAriaLabel:"Close",onRenderNavigationContent:X,children:Object(L.jsx)("p",{children:"regions go here"})}),Object(L.jsx)(h.a,{theme:ze,children:Object(L.jsxs)(u.a,{grow:!0,tokens:Le,horizontalAlign:"start",verticalAlign:"center",horizontal:!0,styles:Be,children:[Object(L.jsx)(u.a.Item,{children:Object(L.jsx)(c.a,{iconProps:{iconName:"GlobalNavButton"},onClick:k,styles:He,disabled:!0})}),Object(L.jsx)(u.a.Item,{grow:!0,children:Object(L.jsxs)(p.a,{styles:Te,children:["ARO Portal ",n.location?"("+n.location+")":""]})}),Object(L.jsx)(u.a.Item,{children:Object(L.jsx)(p.a,{children:n.username})}),Object(L.jsx)(u.a.Item,{hidden:!n.elevated,children:Object(L.jsx)(m.a,{content:"Elevated User",children:Object(L.jsx)(O.a,{iconName:"Admin"})})}),Object(L.jsx)(u.a.Item,{children:Object(L.jsx)(c.a,{iconProps:{iconName:"SignOut"},onClick:function(){G()},styles:He})})]})}),Object(L.jsxs)(u.a,{styles:M,children:[Object(L.jsx)(u.a.Item,{grow:!0,children:x&&(console.log(x),Object(L.jsx)(l.a,{messageBarType:d.a.error,isMultiline:!1,onDismiss:function(){return g(null)},dismissButtonAriaLabel:"Close",styles:Re,children:null===x||void 0===x?void 0:x.statusText}))}),Object(L.jsx)(u.a.Item,{grow:!0,children:Object(L.jsx)(Ae,{showColumns:U,csrfToken:q,sshBox:K,setCurrentCluster:function(e){B(e),_(Pe),V(!1),J.push(e.resourceId)},loaded:R})}),Object(L.jsx)(u.a.Item,{grow:!0,children:Object(L.jsx)(je,{csrfToken:q,loaded:R,currentCluster:P,onClose:function(){_(De),V(!0),J.replace("")}})})]}),Object(L.jsx)(H,{csrfToken:q,ref:K})]})})})),Fe=n(121),Ge=n(62);Object(Fe.a)(),Object(o.G)({":global(body,html,#root)":{margin:0,padding:0,height:"100vh"}}),s.a.render(Object(L.jsx)(Ge.a,{children:Object(L.jsx)(_e,{})}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.4301298c.chunk.js.map